<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="/node_modules/web-component-tester/browser.js"></script>
    <title>Test bux-btn</title>
  </head>
  <body>
    <test-fixture id="componentFixture">
      <template>
        <bux-btn
          type="primary"
          disabled="false"
          data-role="button"
          a11y-label="AriaLabel"
          data-icon="check"
          outlined="true"
          >ok
        </bux-btn>
      </template>
    </test-fixture>
    <script>
      suite('<bux-btn>', () => {
        let component;
        let button;

        setup(() => {
          component = fixture('componentFixture');
          button = component.querySelector('button');
        });

        a11ySuite('componentFixture');

        test('label "ok" ?', () => {
          let index = button.textContent.indexOf('ok');
          assert.isAtLeast(index, 0);
        });

        test('Type "Primaire" ?', () => {
          assert.isTrue(button.classList.contains('c-btn--primary'));
        });

        test('Change status to disabled" ?', () => {
          component.setAttribute('disabled', 'true');
          assert.isTrue(
            button.classList.contains('is-disabled') && button.disabled
          );
        });

        test('AriaLabel is "AriaLabel" ?', () => {
          assert.isTrue(button.getAttribute('aria-label') === 'AriaLabel');
        });

        test('DataIcon is "check" ?', () => {
          const svg = button.querySelector('bux-svg');
          assert.isTrue(svg.getAttribute('data-icon') === 'check');
        });

        test('Button has class is "c-btn--outlined" ?', () => {
          assert.isTrue(button.classList.contains('c-btn--outlined'));
        });
      });
    </script>
  </body>
</html>
