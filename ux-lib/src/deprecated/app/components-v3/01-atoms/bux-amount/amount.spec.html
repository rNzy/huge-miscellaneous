<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script src="/node_modules/web-component-tester/browser.js"></script>
    <title>Test bux2-amount</title>
  </head>

  <body>
    <test-fixture id="componentFixture">
      <template>
        <bux2-amount value="350" currency="USD" tag="div"></bux2-amount>
      </template>
    </test-fixture>
    <script>
      suite('<bux2-amount>', () => {
        let component;

        setup(() => {
          component = fixture('componentFixture');
        });

        a11ySuite('componentFixture');

        // Testing value
        test(`Value is "350,00" ?`, () => {
          assert.isTrue(component.textContent.includes('350,00'));
        });

        // Testing tag
        test(`Tag is "div" ?`, () => {
          assert.isTrue(component.container.tagName === 'DIV');
        });

        // Testing currency value
        test(`Currency is "$US" ?`, () => {
          assert.isTrue(component.textContent.includes('$US'));
        });

        // Testing negative value
        test(`Value is now "-100,00 €" ?`, () => {
          component.setAttribute('value', '-100');
          component.setAttribute('currency', 'EUR');
          assert.isTrue(component.textContent.includes('-100,00'));
          assert.isTrue(component.textContent.includes('€'));
          assert.isTrue(
            component.container.classList.contains('c-amount--negative')
          );
        });

        // Testing background
        test(`Has background now ?`, () => {
          component.setAttribute('background', '');
          assert.isTrue(
            component.container.classList.contains('c-amount--background')
          );
        });

        // Testing background light
        test(`Has background light now ?`, () => {
          component.setAttribute('background-light', '');

          assert.isTrue(
            component.container.classList.contains('c-amount--background-light')
          );
        });

        test(`Is bold now ?`, () => {
          component.setAttribute('bold', '');
          assert.isTrue(component.container.style.fontWeight === 'bold');
        });

        test(`Is center now ?`, () => {
          component.setAttribute('center', '');
          assert.isTrue(component.container.style.textAlign === 'center');
        });

        test(`Text is small now ?`, () => {
          component.setAttribute('size', 'sm');
          assert.isTrue(component.container.classList.contains('c-text--sm'));
        });
      });
    </script>
  </body>
</html>
